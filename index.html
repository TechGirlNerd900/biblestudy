<!DOCTYPE html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Walking with the Holy Spirit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* General Styles & Font Weights */
        body {
            font-family: 'Roboto', sans-serif;
            font-weight: 500; /* Bolder base font */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }
        p, li {
           font-weight: 400; /* Keep paragraph text readable */
        }
        h4 {
           font-weight: 600; /* Bolder subheadings */
        }
        blockquote {
            border-left: 4px solid var(--active-card-border);
            padding-left: 1rem;
            margin: 1rem 0;
            font-style: italic;
            color: var(--text-subtle);
        }

        /* Light Mode Colors */
        .light {
            --bg-gradient-start: #dbeafe; /* Lighter Blue */
            --bg-gradient-end: #fde6f0;
            --text-primary: #374151;
            --text-heading: #1e3a8a; /* Darker Blue */
            --text-subtle: #4b5563;
            --card-bg: rgba(255, 255, 255, 0.8);
            --card-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.05);
            --active-card-border: #1e3a8a; /* Darker Blue */
            --modal-bg: #ffffff;
            --modal-header-bg: rgba(255, 255, 255, 0.8);
            --link-color: #ec4899;
            --link-hover-color: #be185d;
            --link-border-color: #f9a8d4;
            --gemini-btn-bg: #1e3a8a;
            --gemini-btn-text: #ffffff;
            --gemini-btn-hover-bg: #1c357a;
        }

        /* Dark Mode Colors */
        .dark {
            --bg-gradient-start: #111827;
            --bg-gradient-end: #4a044e;
            --text-primary: #d1d5db;
            --text-heading: #e0f2fe;
            --text-subtle: #9ca3af;
            --card-bg: rgba(31, 41, 55, 0.5);
            --card-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.2);
            --active-card-border: #93c5fd;
            --modal-bg: #1f2937;
            --modal-header-bg: rgba(31, 41, 55, 0.8);
            --link-color: #f9a8d4;
            --link-hover-color: #fbcfe8;
            --link-border-color: #ec4899;
            --gemini-btn-bg: #93c5fd;
            --gemini-btn-text: #111827;
            --gemini-btn-hover-bg: #60a5fa;
        }

        /* Theming & Transitions */
        body {
            background: linear-gradient(145deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            color: var(--text-primary);
            transition: background 0.5s ease, color 0.5s ease;
        }
        
        /* Bouncy Animation for Tabs */
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }
        .bouncing {
            animation: bounce 0.4s ease-out;
        }

        /* Card Styles */
        .card {
            background-color: var(--card-bg);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.5s ease;
            cursor: pointer;
        }
        .card:hover {
            transform: translateY(-8px);
            box-shadow: var(--card-shadow);
        }
        .nav-card.active {
            border-color: var(--active-card-border);
            transform: scale(1.03);
            box-shadow: var(--card-shadow);
        }

        /* Gemini Buttons */
        .gemini-btn {
            background-color: var(--gemini-btn-bg);
            color: var(--gemini-btn-text);
            transition: background-color 0.3s, transform 0.2s;
        }
        .gemini-btn:hover {
            background-color: var(--gemini-btn-hover-bg);
            transform: translateY(-2px);
        }

        /* Other UI animations and styles */
        .content-section { display: none; animation: fadeIn 0.8s ease-in-out; }
        .content-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-overlay { animation: fadeIn 0.3s ease; }
        .modal-content { animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(40px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
        
        .context-link {
            cursor: pointer;
            color: var(--link-color);
            border-bottom: 1px dotted var(--link-border-color);
            transition: color 0.2s, border-color 0.2s;
        }
        .context-link:hover { color: var(--link-hover-color); border-bottom-color: var(--link-hover-color); }
        
        .loading-spinner { border: 4px solid rgba(255, 255, 255, 0.2); border-radius: 50%; border-left-color: var(--active-card-border); width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="light">

    <!-- Main Container -->
    <div class="container mx-auto p-4 md:p-8 relative">
        
        <!-- Dark/Light Mode Toggle -->
        <div class="absolute top-4 right-4 z-10">
            <button id="theme-toggle" class="p-2 rounded-full text-[var(--text-heading)] bg-[var(--card-bg)] shadow-md transition-transform duration-300 hover:scale-110">
                <svg id="theme-toggle-light-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                <svg id="theme-toggle-dark-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
        </div>

        <!-- Header -->
        <header class="text-center mb-12 pt-8">
            <h1 class="text-4xl md:text-5xl" style="color: var(--text-heading);">Walking with the Holy Spirit</h1>
            <p class="text-lg max-w-2xl mx-auto mt-3" style="color: var(--text-subtle);">An interactive Four days journey into the power and presence of the Spirit. Click a day to begin.</p>
        </header>

        <!-- Navigation Cards -->
        <nav id="nav-menu" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            <div class="card nav-card p-6 rounded-xl border-2 border-transparent" data-day="1">
                <div class="font-bold text-sm mb-1" style="color: var(--text-heading);">DAY ONE</div>
                <h3 class="text-xl" style="color: var(--text-heading);">The Power and Wonder of the Holy Spirit</h3>
            </div>
            <div class="card nav-card p-6 rounded-xl border-2 border-transparent" data-day="2">
                <div class="font-bold text-sm mb-1" style="color: var(--text-heading);">DAY TWO</div>
                <h3 class="text-xl" style="color: var(--text-heading);">Receive and Live Worthy of the Holy Spirit</h3>
            </div>
            <div class="card nav-card p-6 rounded-xl border-2 border-transparent" data-day="3">
                <div class="font-bold text-sm mb-1" style="color: var(--text-heading);">DAY THREE</div>
                <h3 class="text-xl" style="color: var(--text-heading);">The Promise Fulfilled: Pentecost</h3>
            </div>
            <div class="card nav-card p-6 rounded-xl border-2 border-transparent" data-day="4">
                <div class="font-bold text-sm mb-1" style="color: var(--text-heading);">DAY FOUR</div>
                <h3 class="text-xl" style="color: var(--text-heading);">Walking Daily with the Holy Spirit</h3>
            </div>
        </nav>

        <!-- Content Area -->
        <main id="content-area" class="rounded-2xl shadow-xl p-6 md:p-10" style="background-color: var(--card-bg);">
            <div id="initial-message" class="text-center py-16">
                <h2 class="text-2xl" style="color: var(--text-heading);">Select a day above to begin your journey.</h2>
                <p class="mt-2" style="color: var(--text-subtle);">Explore the sermons and click on the <span style="color: var(--link-color);" class="font-medium">pink highlighted</span> words for deeper insights.</p>
            </div>

            <!-- Day 1 Content -->
            <section id="day-1" class="content-section space-y-4">
                <h2 class="text-3xl mb-2" style="color: var(--text-heading);">Day 1: The Power and Wonder of the Holy Spirit</h2>
                <p class="text-sm mb-4" style="color: var(--text-subtle);">Main Text: Acts 5:12-16; Acts 8:26-40; Acts 16:6-10</p>
                <p class="text-sm italic p-2 rounded-lg" style="color: var(--text-subtle); background-color: rgba(0,0,0,0.05);">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 -mt-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                    Click on <span style="color: var(--link-color);" class="font-semibold">pink text</span> for deeper insights.
                </p>
                <h5 class="text-lg font-semibold mt-4" style="color: var(--text-heading);">Introduction</h5>
                <p>The Holy Spirit is not an abstract energy or just a force — He is the living Spirit of God, present and active in our world. The same Spirit that hovered over the waters at creation (Genesis 1:2), the same Spirit that empowered prophets and kings, now dwells within believers. Today we will explore the astonishing power of the Holy Spirit — a power that delivers, guides, empowers, reveals, protects, and transforms.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">1. The Holy Spirit Empowers for Supernatural Miracles</h4>
                <p>The Spirit worked through the apostles to heal the sick, deliver the oppressed, and even bring multitudes into faith. The power was so great that <span class="context-link" data-term="the significance of Peter's shadow healing in Acts 5">Peter’s shadow</span> carried healing — a sign of God’s overwhelming power, not human merit.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Similar to how the Spirit of God came upon Elijah and Elisha, bringing the dead to life (1 Kings 17:17-24; 2 Kings 4:32-37). But now, in Acts, this power is multiplied and spread throughout the whole community of believers.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">2. The Holy Spirit Guides and Speaks Clearly</h4>
                <p>The Holy Spirit gives precise direction. Philip was told exactly where to go to meet the <span class="context-link" data-term="the story and importance of the Ethiopian Eunuch in Acts 8">Ethiopian eunuch</span>. Through that encounter, the Gospel reached Africa early in Christian history.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Like how the Spirit led Abraham to an unknown land (Genesis 12:1) — the Spirit still leads today, often in surprising ways.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">3. The Holy Spirit Protects and Delivers from Danger</h4>
                <p>The Spirit not only opens doors but also closes doors to protect and redirect. The Spirit prevented Paul from entering certain regions, leading him instead to Macedonia through the <span class="context-link" data-term="Paul's Macedonian Call in Acts 16 and its impact">Macedonian Call</span>, changing the course of Christian expansion.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Similar to how the Spirit protected Joseph, interpreting Pharaoh’s dreams (Genesis 41) and saving Egypt and Israel from famine.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">4. The Holy Spirit Reveals Hidden Truth</h4>
                <p>The Spirit exposed the secret sin of <span class="context-link" data-term="the story of Ananias and Sapphira in Acts 5">Ananias and Sapphira</span>, leading to their instant judgment. The Spirit knows what no man can see — He sees the heart.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>The Spirit revealed secret things to Daniel in Babylon (Daniel 2:19-22), interpreting Nebuchadnezzar's hidden dreams.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">5. The Holy Spirit Inspires Boldness and Fearless Preaching</h4>
                <p>The Spirit removes fear and instills courage, even in the face of persecution. The apostles, once hiding in fear, now stand boldly before religious leaders.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Like how the Spirit emboldened Gideon, who went from hiding to leading Israel to victory (Judges 6:34).</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">6. The Holy Spirit Fosters Unity and Fear of God</h4>
                <p>The Spirit fostered a community where generosity, unity, love, and awe of God flourished. When the Spirit is present, human selfishness is replaced with divine love and fear of God’s holiness.</p>
                
                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                    <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Conclusion: Why This Power Matters</h5>
                    <p>The Holy Spirit is not limited by time, distance, or circumstances. He empowers ordinary people for extraordinary purposes. He protects, leads, reveals, strengthens, corrects, heals, and transforms. The same Spirit who worked through apostles works today in believers who welcome Him fully.</p>
                    <blockquote class="mt-4">Today, we’re not talking about ancient history. The Holy Spirit wants to work in you. He wants to lead you, protect you, open your eyes, and fill you with divine boldness. Yield yourself fully — and watch how His marvelous power will transform your life.</blockquote>
                </div>
                
                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                    <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Key Scriptures for Meditation</h5>
                    <ul class="list-disc list-inside">
                        <li>Genesis 1:2</li>
                        <li>Joel 2:28-29</li>
                        <li>Acts 2:1-4</li>
                        <li>Acts 5:1-16</li>
                        <li>Acts 8:26-29</li>
                        <li>Acts 16:6-10</li>
                        <li>John 14:16-17</li>
                        <li>John 16:13</li>
                    </ul>
                </div>

                <div class="mt-8 pt-6 border-t border-gray-300 dark:border-gray-600 flex flex-col sm:flex-row gap-4">
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="reflect">✨ Reflect & Pray</button>
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="summarize">✨ Summarize Today's Message</button>
                </div>
            </section>
            
            <section id="day-2" class="content-section space-y-4">
                <h2 class="text-3xl mb-2" style="color: var(--text-heading);">Day 2: How We Can Receive and Live Worthy of the Holy Spirit</h2>
                <p class="text-sm mb-4" style="color: var(--text-subtle);">Main Text: Acts 2:37-39; Acts 10:34-48; John 14:15-17</p>
                <p class="text-sm italic p-2 rounded-lg" style="color: var(--text-subtle); background-color: rgba(0,0,0,0.05);">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 -mt-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                    Click on <span style="color: var(--link-color);" class="font-semibold">pink text</span> for deeper insights.
                </p>
                <h5 class="text-lg font-semibold mt-4" style="color: var(--text-heading);">Introduction</h5>
                <p>Many people admire the work of the Holy Spirit, but few ask: How can I be a vessel for His power? The Spirit is not given randomly or accidentally. God desires to pour out His Spirit on those whose hearts are prepared to receive Him. Today, we will explore what Scripture teaches about receiving the Holy Spirit and living a life worthy of His indwelling presence.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">1. The Holy Spirit Is a Gift — But One Must Be Prepared to Receive</h4>
                <p>The Spirit is called a gift — not something earned by works, but something received by grace. <span class="context-link" data-term="the biblical definition and importance of repentance">Repentance</span> is the first step. The heart must turn away from sin and toward God. Baptism signifies cleansing and new life, publicly declaring one’s submission to God.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>In Ezekiel 36:26-27, God promised: “I will give you a new heart and put a new spirit within you.” The transformation of the heart precedes the infilling of the Spirit.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">2. The Holy Spirit Is Given Without Partiality</h4>
                <p><span class="context-link" data-term="the story of Cornelius the Centurion in Acts 10">Cornelius</span>, a Roman centurion and a Gentile, was filled with the Spirit — showing God’s grace is not limited by race, nationality, or background. The only condition was a receptive, believing heart. We do not need to "qualify" by human standards. God searches for hearts open to Him: humble, obedient, hungry for truth.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">3. Obedience Is Essential for the Indwelling of the Spirit</h4>
                <p>Obedience to God’s commands creates a welcoming environment for the Holy Spirit. Love for God is not just emotional — it’s demonstrated through daily choices.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Noah obeyed God even when it didn’t make sense (Genesis 6:22), and through his obedience, God’s Spirit worked powerfully to preserve life.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">4. Purity of Heart Attracts the Holy Spirit</h4>
                <p>The Holy Spirit is holy — He does not dwell where sin is cherished. Not perfection, but sincerity — a real striving for righteousness. When we lie or harbor hypocrisy, we grieve the Spirit. Transparency before God allows His Spirit to fill us completely.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">5. A Lifestyle of Prayer Invites the Holy Spirit</h4>
                <p>Before Pentecost, the disciples prayed together in unity. Prayer is not a ritual; it is opening your spirit to communion with God.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Daniel prayed faithfully three times a day (Daniel 6:10), and God’s Spirit revealed visions and dreams to him.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">6. We Must Remain Thirsty for More</h4>
                <p>The Holy Spirit is freely given to those who ask persistently and sincerely. Hunger for God invites His Spirit.</p>
                
                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                    <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Conclusion: A Heart That Attracts the Spirit</h5>
                    <p>Let us summarize the kind of life that welcomes the Holy Spirit: Repentant, Believing, Obedient, Pure, Prayerful, and Thirsty.</p>
                    <blockquote class="mt-4">Today, ask yourself: Is my heart prepared? God is not far away. The Spirit is ready to fill any person whose heart is yielded, whose will is surrendered, whose spirit is humble. Open yourself to Him — and the Spirit will transform you from the inside out.</blockquote>
                </div>
                
                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                     <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Key Scriptures for Meditation</h5>
                    <ul class="list-disc list-inside">
                        <li>Ezekiel 36:26-27</li>
                        <li>Acts 2:37-39</li>
                        <li>Acts 10:34-48</li>
                        <li>John 14:15-17</li>
                        <li>Isaiah 66:2</li>
                        <li>Luke 11:13</li>
                    </ul>
                </div>
                <div class="mt-8 pt-6 border-t border-gray-300 dark:border-gray-600 flex flex-col sm:flex-row gap-4">
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="reflect">✨ Reflect & Pray</button>
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="summarize">✨ Summarize Today's Message</button>
                </div>
            </section>

            <section id="day-3" class="content-section space-y-4">
                <h2 class="text-3xl mb-2" style="color: var(--text-heading);">Day 3: The Promise Fulfilled — Pentecost</h2>
                <p class="text-sm mb-4" style="color: var(--text-subtle);">Main Text: Acts 2:1-13; Joel 2:28-29; Ezekiel 36:26-27</p>
                <p class="text-sm italic p-2 rounded-lg" style="color: var(--text-subtle); background-color: rgba(0,0,0,0.05);">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 -mt-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                    Click on <span style="color: var(--link-color);" class="font-semibold">pink text</span> for deeper insights.
                </p>
                <h5 class="text-lg font-semibold mt-4" style="color: var(--text-heading);">Introduction</h5>
                <p>The outpouring of the Holy Spirit at Pentecost is one of the most significant turning points in biblical history. It marked the moment when God moved from working through a select few to dwelling within all believers. This was the fulfillment of promises spoken through the prophets long before. Today, we will explore why Pentecost was not just a moment, but a new beginning for humanity.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">1. The Ancient Promise: A New Covenant of the Spirit</h4>
                <p>The Old Testament is full of moments where the Spirit came upon individuals, but always temporarily and selectively. <span class="context-link" data-term="the prophet Joel's prophecy about the Spirit in Joel 2">Joel</span> prophesied of a coming day when the Spirit would be universally available. <span class="context-link" data-term="the prophet Ezekiel's prophecy of a new heart and spirit in Ezekiel 36">Ezekiel</span> promised not only external guidance but internal transformation with a new heart and spirit.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">2. The Timing of Pentecost: The Feast of Shavuot</h4>
                <p><span class="context-link" data-term="The significance of Pentecost and its connection to the Feast of Shavuot">Pentecost</span> took place 50 days after Passover and commemorated the giving of the Law on Mount Sinai. The contrast is powerful: At Sinai, 3,000 died due to rebellion. At Pentecost, 3,000 were saved by receiving the Spirit. The letter kills, but the Spirit gives life.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">3. The Manifestation of Power</h4>
                <p>A violent wind, tongues of fire, and speaking in tongues marked the Spirit's arrival. The speaking in other tongues demonstrated the Spirit’s supernatural ability to cross language barriers — reversing the curse of <span class="context-link" data-term="The curse of the Tower of Babel in Genesis 11">Babel</span>.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">4. The Immediate Impact</h4>
                <p>Jews from across the Roman world heard the Gospel in their native languages. The Spirit made the message accessible to everyone, foreshadowing the global mission of the church. God always intended to bless “all nations” through Abraham (Genesis 12:3). Pentecost was the beginning of that global outreach.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">5. Peter’s Interpretation</h4>
                <p>Peter explains that what they are seeing is not drunkenness but prophecy fulfilled. The Spirit empowers prophecy, visions, dreams — supernatural communication from God to humanity. The outpouring of the Spirit was not a reward for righteousness, but the inauguration of a new era: the New Covenant.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">6. The Spirit Changes Ordinary People Into Extraordinary Witnesses</h4>
                <p>Peter, who once denied Jesus in fear, now preaches boldly. The Holy Spirit transforms the weak into powerful witnesses.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">7. The Spirit Is Still Available Today</h4>
                <p>Pentecost was not a one-time event. It is a model for what God wants to do in every generation. The same Spirit that filled the 120 in the upper room is available to us.</p>
                
                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                    <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Conclusion: The Promise Continues</h5>
                    <p>At Pentecost, God demonstrated that His presence is no longer limited to temples, altars, or select prophets. The new temple is the believer’s heart (1 Corinthians 6:19). The Spirit is our Empowerment, Guide, Teacher, and Comforter.</p>
                    <blockquote class="mt-4">The Holy Spirit has not changed. The question is: Are you ready to be His dwelling place? Today, you can receive the same outpouring — with open repentance, faith, and complete surrender.</blockquote>
                </div>
                
                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                    <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Key Scriptures for Meditation</h5>
                    <ul class="list-disc list-inside">
                        <li>Joel 2:28-29</li>
                        <li>Ezekiel 36:26-27</li>
                        <li>Jeremiah 31:31-33</li>
                        <li>Acts 2:1-41</li>
                        <li>John 14:15-17</li>
                        <li>2 Corinthians 3:6</li>
                    </ul>
                </div>
                <div class="mt-8 pt-6 border-t border-gray-300 dark:border-gray-600 flex flex-col sm:flex-row gap-4">
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="reflect">✨ Reflect & Pray</button>
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="summarize">✨ Summarize Today's Message</button>
                </div>
            </section>

            <section id="day-4" class="content-section space-y-4">
                <h2 class="text-3xl mb-2" style="color: var(--text-heading);">Day 4: Walking Daily with the Holy Spirit</h2>
                <p class="text-sm mb-4" style="color: var(--text-subtle);">Main Text: Acts 13:1-4; John 14:16-17; Romans 8:14-16</p>
                <p class="text-sm italic p-2 rounded-lg" style="color: var(--text-subtle); background-color: rgba(0,0,0,0.05);">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 -mt-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                    Click on <span style="color: var(--link-color);" class="font-semibold">pink text</span> for deeper insights.
                </p>
                <h5 class="text-lg font-semibold mt-4" style="color: var(--text-heading);">Introduction</h5>
                <p>The Holy Spirit is not simply an experience or event — He is a Person. After the initial outpouring, the work of the Spirit continues daily. The Spirit is not only the power that performs miracles, but the daily presence that leads, teaches, convicts, comforts, warns, protects, and speaks. Today we will explore how to live daily in friendship with the Holy Spirit — where His voice becomes your most trusted counsel.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">1. The Holy Spirit as Guide: Direction for Life</h4>
                <p>The early church made major decisions based on the Spirit’s direct leading. The Holy Spirit speaks through prayer, fasting, and spiritual discernment. We must make space to hear His voice through worship, stillness, and obedience.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Like how the Spirit led Samuel to anoint David as king (1 Samuel 16:1-13) — not by human reasoning but divine instruction.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">2. The Holy Spirit as Teacher: Revealing Truth</h4>
                <p>The Spirit clarifies Scripture, convicts the heart, and exposes error. In a world full of deception, the Spirit keeps the believer grounded in truth.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>Similar to how God gave wisdom to Solomon, granting him divine understanding (1 Kings 3:9-12).</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">3. The Holy Spirit as Comforter: Your Constant Companion</h4>
                <p>The word <span class="context-link" data-term="the meaning of Parakletos (Advocate or Comforter) in John 14">Advocate (Paraklētos)</span> means helper, counselor, comforter. In times of sorrow, uncertainty, or fear, the Spirit brings supernatural peace. His presence is permanent — “to be with you forever.”</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>God comforted Hagar in the desert (Genesis 21:17-19) — even when she thought she was forgotten, His Spirit saw her.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">4. The Holy Spirit as Protector: Preventing Disaster</h4>
                <p>The Spirit not only opens doors but closes doors to protect and redirect. Sometimes God’s “no” is the greatest protection we can receive. Learning to recognize the Spirit’s warnings can save you from relationships, business decisions, or paths that lead to harm.</p>
                
                <h4 class="text-xl pt-4" style="color: var(--text-heading);">5. The Holy Spirit as Power: Strength to Overcome Weakness</h4>
                <p>The Spirit empowers us when we are too weak to stand. He even intercedes for us in prayer with <span class="context-link" data-term="The meaning of 'groanings too deep for words' in Romans 8:26">groanings too deep for words</span>.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>When Moses said, “I cannot speak,” God gave him divine help (Exodus 4:10-12).</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">6. The Holy Spirit as Witness: Assurance of Sonship</h4>
                <p>The Spirit removes doubt about our identity. The Spirit himself bears witness with our spirit that we are children of God. You are no longer a slave to fear but a beloved child of God.</p>
                <h5 class="text-lg font-semibold mt-2" style="color: var(--text-heading);">Old Testament Echo:</h5>
                <p>God called Israel His firstborn (Exodus 4:22); now, by the Spirit, every believer receives that assurance personally.</p>

                <h4 class="text-xl pt-4" style="color: var(--text-heading);">7. The Spirit Wants Relationship, Not Ritual</h4>
                <p>The Holy Spirit is not limited to church services, emotional highs, or spiritual events. He desires to walk with you through everyday life: in your workplace, in your family decisions, in your private thoughts, and in your future planning. The more you yield, the more you hear. The more you listen, the more you trust. The more you trust, the more you obey. And the more you obey, the more you walk in daily partnership with the Spirit.</p>
                
                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                     <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Conclusion: Make the Spirit Your Closest Friend</h5>
                     <p>The Holy Spirit is not far away. He speaks. He guides. He comforts. He protects. He empowers. He transforms.</p>
                    <blockquote class="mt-4">If you will make the Holy Spirit your best friend, your entire life will take on supernatural guidance. He sees what you cannot see. He knows what you cannot know. He prepares what you could never prepare. But He requires your total surrender, your complete trust, and your deep hunger for God. Start your day with Him. Invite Him into every decision. Acknowledge His presence at every step. And you will walk in the unbreakable, unstoppable companionship of the Spirit of God.</blockquote>
                </div>

                <div class="pt-4 mt-4 border-t border-gray-300 dark:border-gray-600">
                    <h5 class="text-lg font-semibold" style="color: var(--text-heading);">Key Scriptures for Meditation</h5>
                    <ul class="list-disc list-inside">
                        <li>Acts 13:1-4</li>
                        <li>Acts 16:6-10</li>
                        <li>John 14:16-17</li>
                        <li>John 16:13</li>
                        <li>Romans 8:14-16</li>
                        <li>Romans 8:26</li>
                        <li>Philippians 4:7</li>
                    </ul>
                </div>
                <div class="mt-8 pt-6 border-t border-gray-300 dark:border-gray-600 flex flex-col sm:flex-row gap-4">
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="reflect">✨ Reflect & Pray</button>
                    <button class="gemini-btn font-semibold py-2 px-4 rounded-lg shadow-md w-full sm:w-auto flex-1 gemini-action" data-action="summarize">✨ Summarize Today's Message</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal for Gemini Content -->
    <div id="context-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center p-4 z-50 hidden">
        <div class="modal-content w-full max-w-2xl max-h-[80vh] overflow-y-auto rounded-2xl shadow-2xl" style="background-color: var(--modal-bg);">
            <div class="sticky top-0 p-4 border-b flex justify-between items-center" style="background-color: var(--modal-header-bg); border-color: var(--active-card-border);">
                <h3 id="modal-title" class="text-xl" style="color: var(--text-heading);">Deeper Insight</h3>
                <button id="close-modal" class="text-2xl font-bold transition-colors" style="color: var(--text-subtle);">&times;</button>
            </div>
            <div id="modal-body" class="p-6">
                <div class="loading-spinner-container">
                    <div class="loading-spinner"></div>
                </div>
                <div id="modal-text" class="space-y-4 prose dark:prose-invert" style="color: var(--text-primary);"></div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navMenu = document.getElementById('nav-menu');
            const contentArea = document.getElementById('content-area');
            const initialMessage = document.getElementById('initial-message');
            const contentSections = contentArea.querySelectorAll('.content-section');
            const navCards = navMenu.querySelectorAll('.nav-card');
            
            const themeToggleBtn = document.getElementById('theme-toggle');
            const lightIcon = document.getElementById('theme-toggle-light-icon');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');
            const body = document.body;

            const applyTheme = (theme) => {
                body.classList.remove('light', 'dark');
                body.classList.add(theme);
                lightIcon.classList.toggle('hidden', theme === 'dark');
                darkIcon.classList.toggle('hidden', theme === 'light');
                localStorage.setItem('theme', theme);
            };
            
            applyTheme(localStorage.getItem('theme') || 'light');

            themeToggleBtn.addEventListener('click', () => {
                const newTheme = body.classList.contains('light') ? 'dark' : 'light';
                applyTheme(newTheme);
            });

            navMenu.addEventListener('click', (e) => {
                const card = e.target.closest('.nav-card');
                if (!card) return;

                const day = card.dataset.day;
                initialMessage.style.display = 'none';
                navCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');
                card.classList.add('bouncing');
                card.addEventListener('animationend', () => card.classList.remove('bouncing'), { once: true });

                contentSections.forEach(section => {
                    section.classList.toggle('active', section.id === `day-${day}`);
                });
            });

            const firstCard = navMenu.querySelector('.nav-card[data-day="1"]');
            if(firstCard){
                firstCard.click();
            }

            const modal = document.getElementById('context-modal');
            const closeModalBtn = document.getElementById('close-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalText = document.getElementById('modal-text');
            const spinner = modal.querySelector('.loading-spinner-container');
            
            const openModal = () => modal.classList.remove('hidden');
            const closeModal = () => modal.classList.add('hidden');

            closeModalBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

            contentArea.addEventListener('click', (e) => {
                const target = e.target.closest('.context-link, .gemini-action');
                if (!target) return;

                spinner.style.display = 'flex';
                modalText.innerHTML = '';
                openModal();

                let prompt = '';
                if (target.matches('.context-link')) {
                    const term = target.dataset.term;
                    modalTitle.textContent = `About: ${target.textContent}`;
                    prompt = `Explain the biblical significance of "${term}". Describe what it means, its context in the Bible, and why it is important for a Christian's understanding of faith. Format the response in simple HTML with paragraphs.`;
                } else if (target.matches('.gemini-action')) {
                    const action = target.dataset.action;
                    const sermonSection = target.closest('.content-section');
                    const sermonTitle = sermonSection.querySelector('h2').textContent;
                    let sermonContent = Array.from(sermonSection.querySelectorAll('h2, h4, h5, p, li')).map(el => el.textContent).join('\n');
                    
                    if (action === 'reflect') {
                        modalTitle.textContent = `Reflection for ${sermonTitle}`;
                        prompt = `Based on the following sermon about "${sermonTitle}", please generate a short, personal prayer and 2-3 reflection questions to help someone apply this message to their life. The sermon content is: """${sermonContent}""". Format the response with '### Prayer' and '### Reflection Questions' headings. Use Markdown for formatting.`;
                    } else if (action === 'summarize') {
                        modalTitle.textContent = `Summary of ${sermonTitle}`;
                        prompt = `Please summarize the key takeaways of the following sermon into 3-4 concise bullet points. The sermon is titled "${sermonTitle}" and the content is: """${sermonContent}""". Use Markdown for formatting.`;
                    }
                }
                fetchGeminiResponse(prompt);
            });

            async function fetchGeminiResponse(prompt) {
                try {
                    let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "AIzaSyDaauMyCsLnzdDTbaaWBMjYoWtjmcZbdx4";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    
                    const result = await response.json();
                    let generatedText = "Sorry, I couldn't fetch the details at the moment. Please try again later.";
                    if (result.candidates && result.candidates[0]?.content?.parts?.[0]?.text) {
                      let rawText = result.candidates[0].content.parts[0].text;
                      
                      // BUG FIX: Remove markdown code block fences
                      rawText = rawText.replace(/^\`\`\`(html|markdown)?\s*\n?/, '').replace(/\s*\`\`\`$/, '');

                      // Convert simple markdown to HTML
                      generatedText = rawText
                          .replace(/### (.*)/g, '<h4>$1</h4>')
                          .replace(/^\* (.*)/gm, '<li>$1</li>')
                          .replace(/\n/g, '<br />');

                      // Wrap consecutive list items in a <ul> tag and fix breaks
                      if (generatedText.includes('<li>')) {
                        generatedText = generatedText.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
                        generatedText = generatedText.replace(/<\/li><br \/><li>/g, '</li><li>');
                      }
                    }
                    
                    spinner.style.display = 'none';
                    modalText.innerHTML = generatedText;

                } catch (error) {
                    console.error("Error fetching Gemini response:", error);
                    spinner.style.display = 'none';
                    modalText.innerHTML = `<p class="text-red-500">Could not load the information. Please check your connection and try again.</p>`;
                }
            }
        });
    </script>

</body>
</html>
